{"version":3,"sources":["track_sheduler/consts.js","track_sheduler/utils.js","reduser/servantFileUpload.js","reduser/servantInit.js","reduser/servantOnChangeTrack.js","reduser/index.js","reportWebVitals.js","track_sheduler/TrackLine.jsx","track_sheduler/Tracks.jsx","track_sheduler/TrackUploader.jsx","track_sheduler/TrackScheduler.jsx","App.js","index.js"],"names":["ON_CHANGE_FILES","ON_CHANGE_TRACK","ACTION_INIT","ONE_HOUR","pixelSize","IS_24_HOURS_OF_MS","msToPixels","ms","dt","Date","zeroDate","setMilliseconds","getMilliseconds","hours","getHours","minutes","getMinutes","Math","ceil","pixelsToMs","px","Number","toFixed","floor","setHours","getTime","msToTime","toString","length","getSeconds","updatePropertyOfTracks","tracks","map","v","line_left","start_ms","line_width","end_ms","sign_time","updateTimeTrack","trackData","startTime","endTime","durationTime","servantFileUpload","state","action","value","name","servantInit","servantOnChangeTrack","changedTrack","id","left","width","store","reducer","type","Error","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","connect","dispatch","onChangeTrack","props","track","onMouseDownArrow","e","arrow","target","onmousedown","ondragstart","rectArrow","getBoundingClientRect","shellTrackLine","parentNode","shellTrackLineRect","rightArrow","children","trackLine","trackLineRect","rightEdge","maxWidth","shiftX","className","clientX","document","onmousemove","nowLeft","style","nowWidth","slice","onmouseup","onMouseDown","onMouseDownTrack","currentTarget","leftArrow","trackRect","rightArrowRect","startPoint","diff","i","title","colSpan","onChangeFiles","multiple","accept","display","onChange","newFiles","files","htmlFor","TrackScheduler","oneHourTh","useRef","role","ref","App","createStore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f460ee82.chunk.js","sourcesContent":["///actions\r\nexport const ON_CHANGE_FILES = 'onChangeFiles';\r\nexport const ON_CHANGE_TRACK = 'onChangeTrack';\r\nexport const ACTION_INIT = '@@INIT';\r\n\r\n\r\nexport const ONE_HOUR = { pixelSize: 28.33333333333333 };\r\nexport const IS_24_HOURS_OF_MS = 86400000;\r\n\r\n","import {IS_24_HOURS_OF_MS, ONE_HOUR} from \"./consts\";\r\n\r\nexport const msToPixels = (ms )=>{\r\n    const dt = new Date( 0 );\r\n    const zeroDate = new Date( 0 );\r\n    dt.setMilliseconds( dt.getMilliseconds() + ms );\r\n    let hours = ( dt.getHours() - zeroDate.getHours() );\r\n    let minutes = ( dt.getMinutes() - zeroDate.getMinutes() );\r\n    if( ms >= IS_24_HOURS_OF_MS )minutes = 0;\r\n    hours += minutes / 60;\r\n    if( ms >= IS_24_HOURS_OF_MS ) hours = 24;\r\n\r\n    return Math.ceil( hours * ONE_HOUR.pixelSize );\r\n};\r\n\r\nexport const pixelsToMs = (px )=>{\r\n\r\n    let hours = Number( Number( px / ONE_HOUR.pixelSize ).toFixed( 2 ) );\r\n\r\n    let minutes = Math.ceil( ( hours%1 ) * 60 );\r\n    hours = Math.floor( hours );\r\n    const dt = new Date( 0 );\r\n    dt.setHours( dt.getHours() + hours, dt.getMinutes() + minutes, 0, 0 );\r\n\r\n    return ( dt.getTime() - new Date( 0 ).getTime() );\r\n};\r\n\r\nexport const msToTime = ( ms )=>{\r\n\r\n    const dt = new Date(0 );\r\n\r\n    dt.setHours( 0 );\r\n    dt.setMilliseconds( ms );\r\n\r\n    const zeroDate = new Date( 0 );\r\n    zeroDate.setHours( 0 );\r\n    let hours = ( dt.getHours() - zeroDate.getHours() ).toString();\r\n\r\n\r\n    if( hours.length === 1 ) hours = '0' + hours;\r\n\r\n    let minutes = ( dt.getMinutes() - zeroDate.getMinutes() );\r\n    if( dt.getSeconds() - zeroDate.getSeconds() ) minutes += 1;\r\n    if( minutes.toString().length === 1 ) minutes = '0' + minutes;\r\n\r\n    if( hours === '00' && ms >=  IS_24_HOURS_OF_MS )\r\n    {\r\n        hours = '24';\r\n        minutes = '00';\r\n    }\r\n    return{\r\n      hours\r\n        , minutes: minutes.toString()\r\n    };\r\n};\r\n\r\nexport const updatePropertyOfTracks = (tracks )=>{\r\n\r\n    return tracks.map( ( v )=>{\r\n        return {...v\r\n            ,line_left: msToPixels( v.start_ms )\r\n            ,line_width: msToPixels( v.end_ms - v.start_ms )\r\n            , sign_time: updateTimeTrack( v )\r\n\r\n        };\r\n\r\n\r\n    });\r\n\r\n};\r\n\r\nexport const updateTimeTrack = ( trackData )=>{\r\n\r\n\r\n    const startTime = msToTime( trackData.start_ms );\r\n    const endTime = msToTime( trackData.end_ms );\r\n    const durationTime = msToTime( trackData.end_ms - trackData.start_ms );\r\n\r\n    return `${ startTime.hours}:${ startTime.minutes} - ${ endTime.hours}:${ endTime.minutes}`+\r\n        `( ${ durationTime.hours}ч ${ durationTime.minutes }мин)`;\r\n};\r\n","import {updatePropertyOfTracks} from \"../track_sheduler/utils\";\r\n\r\nconst servantFileUpload = ( state, action )=>{\r\n\r\n\r\n    let {\r\n        tracks\r\n    } = state;\r\n\r\n    const {\r\n        value\r\n    } = action;\r\n\r\n    tracks = [ ...tracks, ...value.map( ( v ) =>{\r\n        return{\r\n            name: v\r\n            , start_ms: 0\r\n            , end_ms: 3600000\r\n        }\r\n    })];\r\n\r\n    return{\r\n            ...state\r\n            , tracks: updatePropertyOfTracks( tracks )\r\n    };\r\n};\r\n\r\nexport default servantFileUpload;","import {updatePropertyOfTracks} from \"../track_sheduler/utils\";\r\n\r\nconst servantInit = (state )=>{\r\n\r\n\r\n    let {\r\n        tracks\r\n    } = state;\r\n\r\n    tracks = updatePropertyOfTracks( tracks );\r\n\r\n    return{\r\n        ...state\r\n        , tracks\r\n    };\r\n};\r\n\r\nexport default servantInit;","import {pixelsToMs, updatePropertyOfTracks, updateTimeTrack} from \"../track_sheduler/utils\";\r\n\r\nconst servantOnChangeTrack = (state, action )=>{\r\n\r\n\r\n    let { tracks } = state;\r\n\r\n\r\n    const changedTrack = action.value;\r\n    tracks[ changedTrack.id ]= {\r\n        ...tracks[ changedTrack.id ]\r\n        , start_ms: pixelsToMs( changedTrack.left )\r\n        , end_ms: pixelsToMs( changedTrack.left + changedTrack.width )\r\n    };\r\n\r\n    tracks[ changedTrack.id ].sign_time = updateTimeTrack(  tracks[ changedTrack.id ]);\r\n\r\n    return{\r\n        ...state\r\n        , tracks: [ ...tracks ]\r\n    };\r\n};\r\n\r\nexport default servantOnChangeTrack;","import servantFileUpload from \"./servantFileUpload\";\r\nimport {ACTION_INIT, ON_CHANGE_FILES, ON_CHANGE_TRACK} from \"../track_sheduler/consts\";\r\nimport servantInit from \"./servantInit\";\r\nimport servantOnChangeTrack from \"./servantOnChangeTrack\";\r\n\r\nexport const store = {\r\n    tracks:[\r\n        {\r\n            name: 'Track I'\r\n            , start_ms: 5580000\r\n            , end_ms: 3600000 * 12.16\r\n\r\n        }\r\n        , {\r\n            name: 'Track II'\r\n            , start_ms: 3600000 * 1.5\r\n            , end_ms: 3600000 * 4\r\n        }\r\n        , {\r\n            name: 'Track IITrack IITrack IITrack IITrack IITrack II'\r\n            , start_ms: 11880000\r\n            , end_ms: 3600000 * 15.38\r\n        }\r\n        , {\r\n            name: 'IITrack IITrack IITrack II'\r\n            , start_ms: 150000\r\n            , end_ms: 3600000\r\n        }\r\n    ]\r\n\r\n};\r\n///TODO: Дописать удаление трека\r\n\r\nexport default function reducer ( state = store, action ) {\r\n\r\n    switch ( action.type ) {\r\n\r\n        /// init здесь вместо какого нибудь промиса, откуда будут получены\r\n        /// начальные данные о треках\r\n        case ACTION_INIT:\r\n            state =servantInit( state )\r\n            break;\r\n        case ON_CHANGE_FILES:\r\n            state = servantFileUpload( state, action );\r\n            break;\r\n\r\n        case ON_CHANGE_TRACK:\r\n            state = servantOnChangeTrack( state, action );\r\n            break;\r\n\r\n        default: throw new Error( 'Received unknown action type!');\r\n\r\n    }\r\n\r\n\r\n\r\n    return state;\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {ON_CHANGE_TRACK} from \"./consts\";\r\n\r\nconst TrackLine = ( props )=>{\r\n  const { line_left\r\n            , line_width\r\n            , sign_time\r\n            } = props.track;\r\n\r\n\r\n    const {onChangeTrack, id } = props;\r\n\r\n    const styleLeft = 10;\r\n    const minimumLength = 10;\r\n\r\n    const onMouseDownArrow = ( e )=>{\r\n        const arrow = e.target;\r\n        arrow.onmousedown = null;\r\n        arrow.ondragstart = ()=> false;\r\n\r\n\r\n        const rectArrow = arrow.getBoundingClientRect();\r\n        const shellTrackLine = arrow.parentNode;\r\n        const shellTrackLineRect = shellTrackLine.getBoundingClientRect();\r\n        const rightArrow = shellTrackLine.children[ 2 ];\r\n        const trackLine = shellTrackLine.children[ 1 ];\r\n        const trackLineRect = trackLine.getBoundingClientRect();\r\n        const rightEdge = ( trackLineRect.left - shellTrackLineRect.left ) + ( trackLineRect.width - rectArrow.width - minimumLength ) ;\r\n        const maxWidth = ( shellTrackLineRect.width + shellTrackLineRect.left ) - trackLineRect.left - rectArrow.width;\r\n        const shiftX = arrow.className === 'arrow_left'\r\n            ? ( e.clientX - rectArrow.left )\r\n            : e.clientX - trackLineRect.width - trackLineRect.left;\r\n\r\n        document.onmousemove = ( e )=>{\r\n\r\n            if( arrow.className === 'arrow_left' ){\r\n                let nowLeft = ( e.clientX - shellTrackLineRect.left ) - shiftX;\r\n                if( nowLeft < 0 ) nowLeft = 0;\r\n                else if ( nowLeft > rightEdge ) nowLeft = rightEdge;\r\n                arrow.style.left = nowLeft + 'px';\r\n\r\n\r\n                const nowWidth = ( ( rightEdge - nowLeft ) + styleLeft );\r\n                trackLine.style.left =  nowLeft + 'px';\r\n                trackLine.style.width = nowWidth + 'px';\r\n                rightArrow.style.left = ( nowLeft ) + 'px';\r\n\r\n\r\n                onChangeTrack( { id\r\n                                , left: nowLeft\r\n                                , width: nowWidth });\r\n            } else{\r\n\r\n                let nowWidth = e.clientX - trackLineRect.left - shiftX;\r\n\r\n                if( nowWidth < minimumLength ) nowWidth = minimumLength;\r\n                else if( nowWidth > maxWidth ) nowWidth = maxWidth;\r\n                trackLine.style.width = nowWidth + 'px';\r\n\r\n                const left = trackLine.style.left;\r\n                const nowLeft = Number( left.slice( -left.length, left.length - 2 ) );\r\n\r\n                onChangeTrack( {\r\n                    id\r\n                    , left: nowLeft\r\n                    , width: nowWidth }   );\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        };\r\n\r\n        document.onmouseup = ()=>{\r\n            document.onmousemove =null;\r\n            document.onmouseup =null;\r\n            arrow.onmousedown = onMouseDownArrow;\r\n        };\r\n\r\n    };\r\n\r\n    const onMouseDownTrack = ( e )=>{\r\n\r\n        e.target.onmousedown = null;\r\n        e.target.ondragstart = ()=> false;\r\n\r\n        const shellTrackLine = e.currentTarget.parentNode;\r\n        const shellTrackLineRect = shellTrackLine.getBoundingClientRect();\r\n        const leftArrow = shellTrackLine.children[ 0 ];\r\n        const track = shellTrackLine.children[ 1 ];\r\n        const trackRect = track.getBoundingClientRect();\r\n        const rightArrow = shellTrackLine.children[ 2 ];\r\n        const rightArrowRect = rightArrow.getBoundingClientRect();\r\n        let startPoint = trackRect.left;\r\n        let shiftX = e.clientX - trackRect.left - styleLeft;\r\n        if( track.style.left ){\r\n            const left = track.style.left;\r\n            const nowLeft = Number( left.slice( -left.length, left.length - 2 ) );\r\n            startPoint = startPoint - nowLeft;\r\n            shiftX = e.clientX - trackRect.left;\r\n        }\r\n\r\n\r\n        const rightEdge = shellTrackLineRect.width  - ( rightArrowRect.width * 2 + trackRect.width );\r\n\r\n\r\n        document.onmousemove = ( e )=>{\r\n\r\n\r\n            let diff = e.clientX - startPoint - shiftX;\r\n            if( diff < 0 ) diff = 0;\r\n            else if( diff > rightEdge ) diff = rightEdge;\r\n            track.style.left = diff + 'px';\r\n            leftArrow.style.left = diff + 'px';\r\n            rightArrow.style.left = diff + 'px';\r\n\r\n\r\n            const width = track.style.width;\r\n            const nowWidth = Number( width.slice( -width.length, width.length - 2 ) );\r\n\r\n            onChangeTrack( {\r\n                id\r\n                , left: diff\r\n                , width: nowWidth } );\r\n        };\r\n\r\n        document.onmouseup = ( )=>{\r\n            track.onmousedown = onMouseDownTrack;\r\n            document.onmousemove = null;\r\n            document.onmouseup = null;\r\n        };\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    return(\r\n\r\n      <div className=\"shell_track_line\">\r\n          <div className=\"arrow_left\"\r\n               style={{ left: line_left }}\r\n               onMouseDown={ onMouseDownArrow }\r\n          > </div>\r\n          <div className=\"track_line\"\r\n               style={{ left: line_left, width: line_width}}\r\n               onMouseDown={ onMouseDownTrack } >\r\n              <div className=\"in_info\">\r\n                  { sign_time }\r\n              </div>\r\n          </div>\r\n          <div className=\"arrow_right\"\r\n               style={{ left: line_left }}\r\n               onMouseDown={ onMouseDownArrow }\r\n          > </div>\r\n      </div>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default connect(\r\n    null\r\n    ,dispatch => ({\r\n        onChangeTrack: ( v ) => {\r\n            dispatch( {type: ON_CHANGE_TRACK, value: v })\r\n        }\r\n    })\r\n)( TrackLine );","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport TrackLine from \"./TrackLine\";\r\n\r\nconst Tracks = ( { tracks })=> {\r\n\r\n    return tracks.map( ( v, i )=>(\r\n\r\n        <tr key={'tr_track' + i }>\r\n            <td title={ v.name } >{ v.name }</td>\r\n            <td colSpan=\"27\">\r\n                <TrackLine\r\n                    track={ v } id={ i } />\r\n\r\n            </td>\r\n        </tr>\r\n\r\n    ) );\r\n};\r\n\r\nexport default connect(\r\n\r\n    state => {\r\n        return ({\r\n            tracks: state.tracks\r\n        });\r\n    }, null\r\n)( Tracks );","import React from 'react';\r\nimport {connect } from 'react-redux';\r\nimport {ON_CHANGE_FILES} from \"./consts\";\r\n\r\nconst TrackUploader = ( { onChangeFiles })=>{\r\n\r\n    const changeHandler = ( e ) => {\r\n        const newFiles = [ ...e.target.files ].map( ( v )=>{\r\n            return v.name;\r\n        });\r\n        onChangeFiles( newFiles );\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <input type=\"file\" id=\"fileElem\"\r\n                   multiple accept=\"audio/*\"\r\n                   style={{display:'none'}}\r\n                   onChange={ changeHandler }/>\r\n            <label htmlFor=\"fileElem\" className={'button_files'}>Добавить треки</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    null\r\n    ,dispatch => ({\r\n        onChangeFiles: ( v ) => {\r\n            dispatch( {type: ON_CHANGE_FILES, value: v })\r\n        }\r\n    })\r\n)( TrackUploader );","import React, {useRef, useEffect } from 'react';\r\nimport '../css/index.css';\r\nimport Tracks from \"./Tracks\";\r\nimport OutInfoLayer from \"./OutInfoLayer\";\r\nimport TrackUploader from \"./TrackUploader\";\r\n//import { ONE_HOUR  } from \"./consts\";\r\n\r\nconst TrackScheduler = ()=>{\r\n\r\n\r\n    /// Работает неверно, не учитывает отступы\r\n    const oneHourTh = useRef( null );\r\n    /*useEffect(() => {\r\n        if( oneHourTh.current ){\r\n            // eslint-disable-next-line\r\n            ONE_HOUR.pixelSize  = oneHourTh.current.getBoundingClientRect().width;\r\n        }\r\n    });*/\r\n\r\n    return(\r\n        <main role=\"main\">\r\n            <section>\r\n                <TrackUploader />\r\n                <table>\r\n                    <caption>Расписание</caption>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Название</th>\r\n                        <th> </th>\r\n                        <th ref={ oneHourTh }><span>00</span>:00</th>\r\n                        <th><span>01</span>:00</th>\r\n                        <th><span>02</span>:00</th>\r\n                        <th><span>03</span>:00</th>\r\n                        <th><span>04</span>:00</th>\r\n                        <th><span>05</span>:00</th>\r\n                        <th><span>06</span>:00</th>\r\n                        <th><span>07</span>:00</th>\r\n                        <th><span>08</span>:00</th>\r\n                        <th><span>09</span>:00</th>\r\n                        <th><span>10</span>:00</th>\r\n                        <th><span>11</span>:00</th>\r\n                        <th><span>12</span>:00</th>\r\n                        <th><span>13</span>:00</th>\r\n                        <th><span>14</span>:00</th>\r\n                        <th><span>15</span>:00</th>\r\n                        <th><span>16</span>:00</th>\r\n                        <th><span>17</span>:00</th>\r\n                        <th><span>18</span>:00</th>\r\n                        <th><span>19</span>:00</th>\r\n                        <th><span>20</span>:00</th>\r\n                        <th><span>21</span>:00</th>\r\n                        <th><span>22</span>:00</th>\r\n                        <th><span>23</span>:00</th>\r\n                        <th><span>00</span>:00</th>\r\n                        <th> </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <Tracks />\r\n                    </tbody>\r\n                </table>\r\n                {/*<OutInfoLayer/>*/}\r\n            </section>\r\n        </main>\r\n    )\r\n};\r\n\r\nexport default TrackScheduler;","import React from 'react';\nimport TrackScheduler from \"./track_sheduler/TrackScheduler\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TrackScheduler/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport reducer from \"./reduser/index\";\n\nconst store = ( process && process.env.NODE_ENV === 'development' ) ?\n    createStore( reducer,window.__REDUX_DEVTOOLS_EXTENSION__\n        && window.__REDUX_DEVTOOLS_EXTENSION__())\n    : createStore( reducer ) ;\n\nReactDOM.render(\n    <Provider store={ store  } >\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}