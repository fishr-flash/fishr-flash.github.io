{"version":3,"sources":["track_sheduler/consts.js","utils.js","reduser/servantFileUpload.js","reduser/servantOnChangeTrack.js","reduser/servantResize.js","reduser/index.js","reportWebVitals.js","track_sheduler/TrackLine.jsx","track_sheduler/Tracks.jsx","track_sheduler/TrackUploader.jsx","track_sheduler/TrackScheduler.jsx","App.js","index.js"],"names":["ON_CHANGE_FILES","ON_CHANGE_TRACK","ON_CHANGE_WINDOW_SIZE","DEFAULT_SIZE_CELL_ONE_HOUR","IS_24_HOURS_OF_MS","oneHourInMs","msToPixels","ms","sizeCellOfOneHour","hr","Math","round","pixelsToMs","px","msToTime","floor","mnt","hours","minutes","updatePropertyOfTracks","tracks","map","v","line_left","start_ms","line_width","end_ms","sign_time","updateTimeTrack","trackData","endTime","dTime","startTimeMinutes","startTime","durationMinutes","durationTime","ifOneThenTwo","nm","toString","sh","sm","eh","em","dh","dm","servantFileUpload","state","action","value","name","servantOnChangeTrack","id","left","width","servantResize","widthTrackLine","store","reducer","type","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","connect","dispatch","onChangeTrack","onChangeWindowSize","props","track","shellTrackLine","useRef","arrowLeft","useState","myId","setMyId","trackLeft","setTrackLeft","trackWidth","setTrackWidth","didMount","setDIdMount","useEffect","current","updateWindowSize","getBoundingClientRect","widthArrowLeft","document","defaultView","onresize","onMouseDownArrow","e","arrow","target","onmousedown","ondragstart","rectArrow","parentNode","shellTrackLineRect","rightArrow","children","trackLine","trackLineRect","rightEdge","maxWidth","shiftX","className","clientX","onmousemove","nowLeft","nowWidth","style","Number","slice","length","onmouseup","ref","onMouseDown","onMouseDownTrack","currentTarget","leftArrow","trackRect","rightArrowRect","startPoint","diff","i","title","colSpan","onChangeFiles","multiple","accept","display","onChange","newFiles","files","htmlFor","TrackScheduler","role","App","createStore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97b6864a.chunk.js","sourcesContent":["///actions\r\nexport const ON_CHANGE_FILES = 'onChangeFiles';\r\nexport const ON_CHANGE_TRACK = 'onChangeTrack';\r\nexport const ON_CHANGE_WINDOW_SIZE = 'onChangeWindowSize';\r\n\r\nexport const DEFAULT_SIZE_CELL_ONE_HOUR = 34;\r\nexport const IS_24_HOURS_OF_MS = 86400000;\r\n\r\n","import {IS_24_HOURS_OF_MS} from \"./track_sheduler/consts\";\r\n\r\n\r\nconst oneHourInMs = 1000 * 60 * 60;\r\n\r\nexport const msToPixels = (ms, sizeCellOfOneHour )=>{\r\n    if( ms < IS_24_HOURS_OF_MS ){\r\n        let hr = ms / oneHourInMs;\r\n        return Math.round( hr * sizeCellOfOneHour );\r\n    } else {\r\n        return Math.round(24 /* max time on hours */ * sizeCellOfOneHour );\r\n    }\r\n};\r\n\r\nexport const pixelsToMs = (px, sizeCellOfOneHour )=> Math.round( ( px / sizeCellOfOneHour) * oneHourInMs );\r\n\r\nexport const msToTime = ( ms )=>{\r\n\r\n    let hr = Math.floor( ms / oneHourInMs );\r\n    let mnt = Math.floor( ( ms%oneHourInMs ) / ( 1000 * 60 ) );\r\n\r\n    if( mnt === 60 ) {\r\n        hr += 1;\r\n        mnt = 0;\r\n    }\r\n\r\n    if( hr >= 24 || ( hr === 23 && mnt === 60 ) ){\r\n        hr = 24;\r\n        mnt = 0;\r\n    }\r\n    return{\r\n        hours: hr\r\n        , minutes: mnt\r\n    };\r\n\r\n};\r\n\r\nexport const updatePropertyOfTracks = (tracks, sizeCellOfOneHour )=>{\r\n\r\n    return tracks.map( ( v )=>{\r\n        return {...v\r\n            ,line_left: msToPixels( v.start_ms, sizeCellOfOneHour )\r\n            ,line_width: msToPixels( v.end_ms - v.start_ms, sizeCellOfOneHour )\r\n            , sign_time: updateTimeTrack( v )\r\n\r\n        };\r\n\r\n\r\n    });\r\n\r\n};\r\n\r\nexport const updateTimeTrack = ( trackData )=>{\r\n\r\n    const endTime = msToTime( trackData.end_ms );\r\n    const dTime = msToTime( trackData.end_ms - trackData.start_ms );\r\n    const startTimeMinutes = ( endTime.hours * 60 + endTime.minutes ) - ( dTime.hours * 60 + dTime.minutes );\r\n    const startTime = {\r\n        hours: Math.floor( startTimeMinutes / 60 )\r\n        , minutes: startTimeMinutes % 60\r\n    };\r\n\r\n\r\n    const durationMinutes = Math.floor( ( endTime.hours * 60 + endTime.minutes ) - ( startTime.hours * 60 + startTime.minutes ) );\r\n    const durationTime = {\r\n        hours: Math.floor( durationMinutes / 60 )\r\n        , minutes:  durationMinutes%60\r\n    };\r\n\r\n\r\n    const ifOneThenTwo = ( nm )=>{\r\n        if( nm >= 10 ) return nm.toString();\r\n        else return  '0' + nm;\r\n    };\r\n    const sh = ifOneThenTwo( startTime.hours );\r\n    const sm = ifOneThenTwo( startTime.minutes );\r\n    const eh = ifOneThenTwo( endTime.hours );\r\n    const em = ifOneThenTwo( endTime.minutes );\r\n    const dh = ifOneThenTwo( durationTime.hours );\r\n    const dm = ifOneThenTwo( durationTime.minutes );\r\n\r\n    return `${ sh }:${ sm } - ${ eh }:${ em } ( ${ dh }ч ${ dm }мин )`;\r\n\r\n};\r\n","import {updatePropertyOfTracks} from \"../utils\";\r\n\r\nconst servantFileUpload = ( state, action )=>{\r\n\r\n\r\n    let {\r\n        tracks\r\n        , sizeCellOfOneHour\r\n    } = state;\r\n\r\n    const {\r\n        value\r\n    } = action;\r\n\r\n    tracks = [ ...tracks, ...value.map( ( v ) =>{\r\n        return{\r\n            name: v\r\n            , start_ms: 0\r\n            , end_ms: 3600000\r\n        }\r\n    })];\r\n\r\n    return{\r\n            ...state\r\n            , tracks: updatePropertyOfTracks( tracks, sizeCellOfOneHour )\r\n    };\r\n};\r\n\r\nexport default servantFileUpload;","import {pixelsToMs, updateTimeTrack} from \"../utils\";\r\n\r\nconst servantOnChangeTrack = (state, action )=>{\r\n\r\n\r\n    let { tracks, sizeCellOfOneHour } = state;\r\n\r\n    const {\r\n        id\r\n        , left\r\n        , width\r\n    } = action.value;\r\n\r\n    tracks[ id ]= {\r\n        ...tracks[ id ]\r\n        , start_ms: pixelsToMs( left, sizeCellOfOneHour )\r\n        , end_ms: pixelsToMs( left + width, sizeCellOfOneHour )\r\n        , line_left: left\r\n        , line_width: width\r\n    };\r\n\r\n    tracks[ id ].sign_time = updateTimeTrack(  tracks[ id ]);\r\n\r\n    return{\r\n        ...state\r\n        , tracks: [ ...tracks ]\r\n    };\r\n};\r\n\r\nexport default servantOnChangeTrack;","import {updatePropertyOfTracks} from \"../utils\";\r\n\r\nconst servantResize = (state, action )=>{\r\n\r\n\r\n    let {\r\n        tracks\r\n    } = state;\r\n\r\n    const {\r\n        widthTrackLine\r\n    } = action;\r\n\r\n    const sizeCellOfOneHour = widthTrackLine / 24;\r\n    tracks = updatePropertyOfTracks( tracks, sizeCellOfOneHour );\r\n\r\n    return{\r\n        ...state\r\n        , sizeCellOfOneHour\r\n        , tracks: [...tracks ]\r\n    };\r\n};\r\n\r\nexport default servantResize;","import servantFileUpload from \"./servantFileUpload\";\r\nimport {\r\n    DEFAULT_SIZE_CELL_ONE_HOUR,\r\n    ON_CHANGE_FILES,\r\n    ON_CHANGE_TRACK,\r\n    ON_CHANGE_WINDOW_SIZE\r\n} from \"../track_sheduler/consts\";\r\nimport servantOnChangeTrack from \"./servantOnChangeTrack\";\r\nimport servantResize from \"./servantResize\";\r\n\r\nexport const store = {\r\n    tracks:[\r\n        {\r\n            name: 'Track I'\r\n            , start_ms: 5580000\r\n            , end_ms: 3600000 * 12.16\r\n\r\n        }\r\n        , {\r\n            name: 'Track II'\r\n            , start_ms: 3600000 * 1.5\r\n            , end_ms: 3600000 * 4\r\n        }\r\n        , {\r\n            name: 'Track IITrack IITrack IITrack IITrack IITrack II'\r\n            , start_ms: 11880000\r\n            , end_ms: 3600000 * 15.38\r\n        }\r\n        ,{\r\n            name: 'IITrack IITrack IITrack II'\r\n            , start_ms: 150000\r\n            , end_ms: 3600000\r\n        }\r\n\r\n\r\n    ]\r\n    , sizeCellOfOneHour: DEFAULT_SIZE_CELL_ONE_HOUR\r\n\r\n};\r\n\r\n\r\n///TODO: Дописать удаление трека\r\n\r\nexport default function reducer ( state = store, action ) {\r\n\r\n    switch ( action.type ) {\r\n\r\n        case ON_CHANGE_WINDOW_SIZE:\r\n            state =servantResize( state, action );\r\n            break;\r\n\r\n        case ON_CHANGE_FILES:\r\n            state = servantFileUpload( state, action );\r\n            break;\r\n\r\n        case ON_CHANGE_TRACK:\r\n            state = servantOnChangeTrack( state, action );\r\n            break;\r\n\r\n        default:\r\n\r\n            // first action type of build version is unknown\r\n            //throw new Error( 'Received unknown action type! action.type: ' + action.type );\r\n\r\n    }\r\n\r\n\r\n\r\n    return state;\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {ON_CHANGE_TRACK, ON_CHANGE_WINDOW_SIZE} from \"./consts\";\r\n\r\nconst TrackLine = ( props )=>{\r\n\r\n  const {onChangeTrack\r\n        , id\r\n        , onChangeWindowSize\r\n        , track:{\r\n            line_left\r\n            , line_width\r\n            , sign_time\r\n        }} = props;\r\n\r\n    const styleLeft = 10;\r\n    const minimumLength = 10;\r\n\r\n    const shellTrackLine = useRef( null );\r\n    const arrowLeft = useRef( null );\r\n    const [ myId, setMyId ] = useState( 0 );\r\n    const [ trackLeft, setTrackLeft ] = useState( 0 );\r\n    const [ trackWidth, setTrackWidth ] = useState( 0 );\r\n    const [ didMount, setDIdMount ] = useState( true  );\r\n\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n       if( id === 0 && didMount && shellTrackLine.current ){\r\n\r\n           const updateWindowSize = ()=>{\r\n               const widthTrackLine = shellTrackLine.current.getBoundingClientRect().width;\r\n               const widthArrowLeft = arrowLeft.current.getBoundingClientRect().width;\r\n\r\n               onChangeWindowSize(  widthTrackLine - ( widthArrowLeft * 2 ));\r\n           };\r\n\r\n\r\n\r\n           updateWindowSize();\r\n\r\n           document.defaultView.onresize = ( )=>{\r\n               updateWindowSize();\r\n\r\n           };\r\n       }\r\n\r\n       if( !didMount && trackWidth ) {\r\n\r\n           onChangeTrack( { id: myId\r\n               , left: trackLeft\r\n               , width: trackWidth });\r\n\r\n       }\r\n\r\n        setDIdMount( false );\r\n\r\n\r\n    }, [\r\n        onChangeWindowSize\r\n        , onChangeTrack\r\n        , shellTrackLine\r\n        , arrowLeft\r\n        , myId\r\n        , trackLeft\r\n        , trackWidth\r\n        , didMount\r\n        , id\r\n    ]);\r\n\r\n    const onMouseDownArrow = ( e )=>{\r\n        const arrow = e.target;\r\n        arrow.onmousedown = null;\r\n        arrow.ondragstart = ()=> false;\r\n\r\n        const rectArrow = arrow.getBoundingClientRect();\r\n        const shellTrackLine = arrow.parentNode;\r\n        const shellTrackLineRect = shellTrackLine.getBoundingClientRect();\r\n        const rightArrow = shellTrackLine.children[ 2 ];\r\n        const trackLine = shellTrackLine.children[ 1 ];\r\n        const trackLineRect = trackLine.getBoundingClientRect();\r\n        const rightEdge = ( trackLineRect.left - shellTrackLineRect.left ) + ( trackLineRect.width - rectArrow.width - minimumLength ) ;\r\n        const maxWidth = ( shellTrackLineRect.width + shellTrackLineRect.left ) - trackLineRect.left - rectArrow.width;\r\n        const shiftX = arrow.className === 'arrow_left'\r\n            ? ( e.clientX - rectArrow.left )\r\n            : e.clientX - trackLineRect.width - trackLineRect.left;\r\n\r\n        document.onmousemove = ( e )=>{\r\n\r\n            let nowLeft;\r\n            let nowWidth;\r\n\r\n            if( arrow.className === 'arrow_left' ){\r\n                nowLeft = ( e.clientX - shellTrackLineRect.left ) - shiftX;\r\n                if( nowLeft < 0 ) nowLeft = 0;\r\n                else if ( nowLeft > rightEdge ) nowLeft = rightEdge;\r\n                arrow.style.left = nowLeft + 'px';\r\n\r\n\r\n                nowWidth = ( ( rightEdge - nowLeft ) + styleLeft );\r\n                trackLine.style.left =  nowLeft + 'px';\r\n                trackLine.style.width = nowWidth + 'px';\r\n                rightArrow.style.left = ( nowLeft ) + 'px';\r\n\r\n\r\n            } else{\r\n\r\n                nowWidth = e.clientX - trackLineRect.left - shiftX;\r\n\r\n                if( nowWidth < minimumLength ) nowWidth = minimumLength;\r\n                else if( nowWidth > maxWidth ) nowWidth = maxWidth;\r\n                trackLine.style.width = nowWidth + 'px';\r\n\r\n                const left = trackLine.style.left;\r\n                nowLeft = Number( left.slice( -left.length, left.length - 2 ) );\r\n\r\n            }\r\n\r\n\r\n            \r\n            setMyId( id );\r\n            setTrackLeft( nowLeft );\r\n            setTrackWidth( nowWidth );\r\n        };\r\n\r\n        document.onmouseup = ()=>{\r\n            document.onmousemove =null;\r\n            document.onmouseup =null;\r\n            arrow.onmousedown = onMouseDownArrow;\r\n        };\r\n\r\n    };\r\n\r\n    const onMouseDownTrack = ( e )=>{\r\n\r\n        e.target.onmousedown = null;\r\n        e.target.ondragstart = ()=> false;\r\n\r\n        const shellTrackLine = e.currentTarget.parentNode;\r\n        const shellTrackLineRect = shellTrackLine.getBoundingClientRect();\r\n        const leftArrow = shellTrackLine.children[ 0 ];\r\n        const track = shellTrackLine.children[ 1 ];\r\n        const trackRect = track.getBoundingClientRect();\r\n        const rightArrow = shellTrackLine.children[ 2 ];\r\n        const rightArrowRect = rightArrow.getBoundingClientRect();\r\n        let startPoint = trackRect.left;\r\n        let shiftX = e.clientX - trackRect.left - styleLeft;\r\n        if( track.style.left ){\r\n            const left = track.style.left;\r\n            const nowLeft = Number( left.slice( -left.length, left.length - 2 ) );\r\n            startPoint = startPoint - nowLeft;\r\n            shiftX = e.clientX - trackRect.left;\r\n        }\r\n\r\n\r\n        const rightEdge = shellTrackLineRect.width  - ( rightArrowRect.width * 2 + trackRect.width );\r\n\r\n\r\n        document.onmousemove = ( e )=>{\r\n\r\n\r\n            let diff = e.clientX - startPoint - shiftX;\r\n            if( diff < 0 ) diff = 0;\r\n            else if( diff > rightEdge ) diff = rightEdge;\r\n            track.style.left = diff + 'px';\r\n            leftArrow.style.left = diff + 'px';\r\n            rightArrow.style.left = diff + 'px';\r\n\r\n\r\n            const width = track.style.width;\r\n            const nowWidth = Number( width.slice( -width.length, width.length - 2 ) );\r\n\r\n            setMyId( id );\r\n            setTrackLeft( diff );\r\n            setTrackWidth( nowWidth );\r\n\r\n        };\r\n\r\n        document.onmouseup = ( )=>{\r\n            track.onmousedown = onMouseDownTrack;\r\n            document.onmousemove = null;\r\n            document.onmouseup = null;\r\n        };\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    return(\r\n\r\n      <div className=\"shell_track_line\" ref={ shellTrackLine }>\r\n          <div className=\"arrow_left\"\r\n               style={{ left: line_left }}\r\n               ref={ arrowLeft }\r\n               onMouseDown={ onMouseDownArrow }\r\n          > </div>\r\n          <div className=\"track_line\"\r\n               style={{ left: line_left, width: line_width}}\r\n               onMouseDown={ onMouseDownTrack } >\r\n              <div className=\"in_info\">\r\n                  { sign_time }\r\n              </div>\r\n          </div>\r\n          <div className=\"arrow_right\"\r\n               style={{ left: line_left }}\r\n               onMouseDown={ onMouseDownArrow }\r\n          > </div>\r\n      </div>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default connect(\r\n    null\r\n    ,dispatch => ({\r\n        onChangeTrack: ( v ) => {\r\n            dispatch( {type: ON_CHANGE_TRACK, value: v })\r\n        }\r\n        , onChangeWindowSize: ( v )=>{\r\n            dispatch( {type: ON_CHANGE_WINDOW_SIZE, widthTrackLine: v })\r\n        }\r\n    })\r\n)( TrackLine );","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport TrackLine from \"./TrackLine\";\r\n\r\n\r\nconst Tracks = ( { tracks })=> {\r\n\r\n    return tracks.map( ( v, i )=>( <tr key={'tr_track' + i }>\r\n            <td title={ v.name } >{ v.name }</td>\r\n            <td colSpan=\"27\">\r\n                <TrackLine\r\n                    track={ v } id={ i } />\r\n                <div\r\n                    className=\"out_info\" >{ v.sign_time }</div>\r\n            </td>\r\n        </tr>\r\n\r\n        ) );\r\n};\r\n\r\nexport default connect(\r\n\r\n    state => {\r\n        return ({\r\n            tracks: state.tracks\r\n        });\r\n    }, null\r\n)( Tracks );","import React from 'react';\r\nimport {connect } from 'react-redux';\r\nimport {ON_CHANGE_FILES} from \"./consts\";\r\n\r\nconst TrackUploader = ( { onChangeFiles })=>{\r\n\r\n    const changeHandler = ( e ) => {\r\n        const newFiles = [ ...e.target.files ].map( ( v )=>{\r\n            return v.name;\r\n        });\r\n        onChangeFiles( newFiles );\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <input type=\"file\" id=\"fileElem\"\r\n                   multiple accept=\"audio/*\"\r\n                   style={{display:'none'}}\r\n                   onChange={ changeHandler }/>\r\n            <label htmlFor=\"fileElem\" className={'button_files'}>Добавить треки</label>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(\r\n    null\r\n    ,dispatch => ({\r\n        onChangeFiles: ( v ) => {\r\n            dispatch( {type: ON_CHANGE_FILES, value: v })\r\n        }\r\n    })\r\n)( TrackUploader );","import React from 'react';\r\nimport '../css/index.css';\r\nimport Tracks from \"./Tracks\";\r\nimport TrackUploader from \"./TrackUploader\";\r\n\r\n\r\nconst TrackScheduler = ()=>{\r\n\r\n    return(\r\n        <main role=\"main\">\r\n            <section>\r\n                <TrackUploader />\r\n                <table>\r\n                    <caption>Расписание</caption>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Название</th>\r\n                        <th> </th>\r\n                        <th><span>00</span>:00</th>\r\n                        <th><span>01</span>:00</th>\r\n                        <th><span>02</span>:00</th>\r\n                        <th><span>03</span>:00</th>\r\n                        <th><span>04</span>:00</th>\r\n                        <th><span>05</span>:00</th>\r\n                        <th><span>06</span>:00</th>\r\n                        <th><span>07</span>:00</th>\r\n                        <th><span>08</span>:00</th>\r\n                        <th><span>09</span>:00</th>\r\n                        <th><span>10</span>:00</th>\r\n                        <th><span>11</span>:00</th>\r\n                        <th><span>12</span>:00</th>\r\n                        <th><span>13</span>:00</th>\r\n                        <th><span>14</span>:00</th>\r\n                        <th><span>15</span>:00</th>\r\n                        <th><span>16</span>:00</th>\r\n                        <th><span>17</span>:00</th>\r\n                        <th><span>18</span>:00</th>\r\n                        <th><span>19</span>:00</th>\r\n                        <th><span>20</span>:00</th>\r\n                        <th><span>21</span>:00</th>\r\n                        <th><span>22</span>:00</th>\r\n                        <th><span>23</span>:00</th>\r\n                        <th> </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <Tracks />\r\n                    </tbody>\r\n                </table>\r\n\r\n            </section>\r\n\r\n        </main>\r\n    )\r\n};\r\n\r\nexport default TrackScheduler;","import React from 'react';\r\nimport TrackScheduler from \"./track_sheduler/TrackScheduler\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <TrackScheduler/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore} from 'redux';\r\nimport reducer from \"./reduser/index\";\r\n\r\nconst store = ( process && process.env.NODE_ENV === 'development' ) ?\r\n    createStore( reducer,window.__REDUX_DEVTOOLS_EXTENSION__\r\n        && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n    : createStore( reducer ) ;\r\n\r\nReactDOM.render(\r\n    <Provider store={ store  } >\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}